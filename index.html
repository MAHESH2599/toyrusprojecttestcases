<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Toys‚ÄúR‚ÄùUs Dynamic Platform</title>
  <style>
    :root{
      --primary:#ff6f61;
      --secondary:#ffd54f;
      --bg:#f3f5fb;
      --card:#ffffff;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:Arial, sans-serif;
      background:var(--bg);
    }
    header{
      background:linear-gradient(90deg,var(--primary),#ff8a65);
      color:white;
      padding:12px 20px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    header h1{margin:0;font-size:22px;}
    nav a{
      color:white;
      text-decoration:none;
      font-weight:bold;
      margin-left:15px;
      font-size:14px;
    }
    nav a:hover{opacity:0.8;}

    .container{
      max-width:1100px;
      margin:15px auto;
      padding:0 12px;
    }
    section{
      background:var(--card);
      padding:15px;
      margin-bottom:15px;
      border-radius:12px;
      box-shadow:0 4px 10px rgba(0,0,0,0.06);
    }
    h2{
      margin-top:0;
      color:var(--primary);
    }

    /* PLAY SECTION */
    .play-wrapper{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:center;
    }
    .play-info{
      flex:1;
      min-width:220px;
      background:var(--secondary);
      padding:12px;
      border-radius:10px;
    }
    .play-art{
      flex:1;
      min-width:220px;
      height:130px;
      border-radius:10px;
      background:repeating-linear-gradient(
        45deg,#fff8e1,#fff8e1 10px,#ffe082 10px,#ffe082 20px
      );
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:bold;
      color:#ff6f00;
    }

    button{
      padding:8px 14px;
      border:none;
      border-radius:20px;
      background:var(--primary);
      color:white;
      font-weight:bold;
      cursor:pointer;
      font-size:13px;
      transition:transform 0.15s ease, box-shadow 0.15s ease, opacity 0.1s;
    }
    button:hover{
      transform:translateY(-1px);
      box-shadow:0 3px 6px rgba(0,0,0,0.2);
    }

    /* SHOP SECTION */
    .filters{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-bottom:10px;
    }
    .filters-group label{
      display:block;
      font-size:12px;
      font-weight:bold;
      margin-bottom:2px;
    }
    .filters select{
      padding:5px;
      border-radius:8px;
      border:1px solid #ccc;
      font-size:13px;
      min-width:130px;
    }
    .reset-btn{
      background:#eceff1;
      color:#333;
      border-radius:16px;
      padding:6px 10px;
      font-size:12px;
    }

    .toy-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:10px;
    }
    .toy-card{
      background:#fafafa;
      border-radius:10px;
      padding:10px;
      border:1px solid #eee;
      transition:transform 0.15s ease, box-shadow 0.15s ease;
    }
    .toy-card:hover{
      transform:translateY(-2px);
      box-shadow:0 3px 8px rgba(0,0,0,0.1);
    }
    .toy-name{font-weight:bold;margin-bottom:4px;}
    .pill{
      display:inline-block;
      padding:2px 8px;
      border-radius:999px;
      font-size:11px;
      margin-right:4px;
      margin-top:3px;
      background:#e0f7fa;
    }

    /* REVIEWS SECTION */
    form input, form select, form textarea{
      width:100%;
      padding:6px;
      margin:4px 0 8px;
      border-radius:8px;
      border:1px solid #ccc;
      font-size:13px;
    }
    form textarea{resize:vertical;}
    .review-list{margin-top:10px;}
    .review-item{
      border-bottom:1px solid #eee;
      padding:8px 0;
    }
    .review-item:last-child{border-bottom:none;}
    .review-title{font-weight:bold;}
    .review-meta{font-size:12px;color:#777;}
    .tag-rating{
      display:inline-block;
      background:#ffe082;
      padding:2px 8px;
      border-radius:999px;
      font-size:11px;
      margin-left:5px;
    }
    .review-actions button{
      background:#eceff1;
      color:#333;
      margin-right:5px;
      border-radius:14px;
    }
  </style>
</head>
<body>

<header>
  <h1>üß∏ Toys‚ÄúR‚ÄùUs Platform</h1>
  <nav>
    <a href="#play">Play</a>
    <a href="#shop">Shop</a>
    <a href="#reviews">Reviews</a>
  </nav>
</header>

<div class="container">

  <!-- PLAY SECTION -->
  <section id="play">
    <h2>üéÆ Play Zone</h2>
    <div class="play-wrapper">
      <div class="play-info">
        <p>Welcome to the Toys‚ÄúR‚ÄùUs fun platform. This section is used to test the Play feature.</p>
        <button onclick="alert('Play Test Case: PASS ‚Äì Play button working correctly')">
          ‚ñ∂ Click to Play
        </button>
      </div>
      <div class="play-art">
        Kids ‚Ä¢ Toys ‚Ä¢ Fun
      </div>
    </div>
  </section>

  <!-- SHOP SECTION -->
  <section id="shop">
    <h2>üõí Shop Toys (Dynamic)</h2>

    <!-- Filters -->
    <div class="filters">
      <div class="filters-group">
        <label>Shop by Age</label>
        <select id="ageFilter" onchange="filterToys()">
          <option value="all">All Ages</option>
          <option value="0-2">0-2</option>
          <option value="3-5">3-5</option>
          <option value="6-8">6-8</option>
          <option value="9-12">9-12</option>
        </select>
      </div>

      <div class="filters-group">
        <label>Shop by Category</label>
        <select id="categoryFilter" onchange="filterToys()">
          <option value="all">All Categories</option>
          <option value="Puzzles">Puzzles</option>
          <option value="Outdoor">Outdoor</option>
          <option value="Educational">Educational</option>
          <option value="Action Figures">Action Figures</option>
          <option value="Board Games">Board Games</option>
          <option value="Musical Toys">Musical Toys</option>
          <option value="Soft Toys">Soft Toys</option>
          <option value="Electronic Toys">Electronic Toys</option>
        </select>
      </div>

      <div class="filters-group">
        <label>Shop by Brand</label>
        <select id="brandFilter" onchange="filterToys()">
          <option value="all">All Brands</option>
          <option value="Lego">Lego</option>
          <option value="Barbie">Barbie</option>
          <option value="Hot Wheels">Hot Wheels</option>
          <option value="Fisher-Price">Fisher-Price</option>
          <option value="Marvel">Marvel</option>
        </select>
      </div>

      <div class="filters-group">
        <label>&nbsp;</label>
        <button class="reset-btn" type="button" onclick="resetFilters()">Reset Filters</button>
      </div>
    </div>

    <!-- Dynamic toy list -->
    <div id="toyGrid" class="toy-grid"></div>
  </section>

  <!-- REVIEWS SECTION -->
  <section id="reviews">
    <h2>‚≠ê Product Reviews</h2>
    <p>Leave a product review below. Add / Edit / Delete actions will show PASS / FAIL messages as popups.</p>

    <form id="reviewForm">
      <input id="productName" placeholder="Product name (e.g., Lego Blocks)">
      <input id="reviewerName" placeholder="Your name">
      <select id="rating">
        <option value="">Rating (1 to 5)</option>
        <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
      </select>
      <textarea id="reviewText" rows="2" placeholder="Write your review"></textarea>
      <button type="submit" id="submitBtn">Add Review</button>
    </form>

    <div id="reviewList" class="review-list"></div>
  </section>

</div>

<script>
  /* ===========================
     TOYS DATA (Dynamic Shop)
     =========================== */
  const toys = [
    {name:"Lego Blocks Starter Set", age:"6-8", category:"Puzzles",        brand:"Lego"},
    {name:"Barbie Fashion Doll",      age:"3-5", category:"Outdoor",       brand:"Barbie"},
    {name:"Hot Wheels Racing Car",    age:"6-8", category:"Electronic Toys", brand:"Hot Wheels"},
    {name:"Marvel Iron Man Figure",   age:"9-12", category:"Action Figures", brand:"Marvel"},
    {name:"Kids Guitar",              age:"3-5", category:"Musical Toys",  brand:"Fisher-Price"},
    {name:"Teddy Bear Soft Toy",      age:"0-2", category:"Soft Toys",     brand:"Fisher-Price"},
    {name:"Brain Challenge Board Game",age:"9-12",category:"Board Games",  brand:"Lego"},
    {name:"Baby Learning Kit",        age:"0-2", category:"Educational",   brand:"Lego"}
  ];

  // Render toys dynamically
  function renderToys(list){
    const grid = document.getElementById("toyGrid");
    if(list.length === 0){
      grid.innerHTML = "<p>No toys match the selected filters.</p>";
      return;
    }
    grid.innerHTML = list.map(t => `
      <div class="toy-card">
        <div class="toy-name">${t.name}</div>
        <div>
          <span class="pill">Age: ${t.age}</span>
          <span class="pill">${t.category}</span>
          <span class="pill">${t.brand}</span>
        </div>
      </div>
    `).join("");
  }

  // Filter toys based on dropdowns
  function filterToys(){
    const age = document.getElementById("ageFilter").value;
    const category = document.getElementById("categoryFilter").value;
    const brand = document.getElementById("brandFilter").value;

    const filtered = toys.filter(t =>
      (age === "all" || t.age === age) &&
      (category === "all" || t.category === category) &&
      (brand === "all" || t.brand === brand)
    );
    renderToys(filtered);
  }

  function resetFilters(){
    document.getElementById("ageFilter").value = "all";
    document.getElementById("categoryFilter").value = "all";
    document.getElementById("brandFilter").value = "all";
    renderToys(toys);
  }

  // Initial load
  renderToys(toys);

  /* ===========================
     REVIEWS (Add / Edit / Delete)
     with PASS / FAIL messages
     =========================== */
  let reviews = [];
  let editingId = null;

  const reviewForm = document.getElementById("reviewForm");
  const reviewList = document.getElementById("reviewList");
  const submitBtn = document.getElementById("submitBtn");

  function showTestMessage(type,testName,message){
    // type: "pass" or "fail"
    alert(`${testName}: ${type.toUpperCase()} ‚Äì ${message}`);
  }

  function renderReviews(){
    if(reviews.length === 0){
      reviewList.innerHTML = "<p>No reviews yet. Be the first!</p>";
      return;
    }
    reviewList.innerHTML = reviews.map(r => `
      <div class="review-item">
        <div class="review-title">
          ${r.product}
          <span class="tag-rating">‚≠ê ${r.rating}/5</span>
        </div>
        <div class="review-meta">by ${r.name}</div>
        <div>${r.text}</div>
        <div class="review-actions" style="margin-top:4px;">
          <button onclick="editReview(${r.id})">Edit</button>
          <button onclick="deleteReview(${r.id})">Delete</button>
        </div>
      </div>
    `).join("");
  }

  reviewForm.onsubmit = function(e){
    e.preventDefault();

    const product = document.getElementById("productName").value.trim();
    const name    = document.getElementById("reviewerName").value.trim();
    const rating  = document.getElementById("rating").value;
    const text    = document.getElementById("reviewText").value.trim();
    const testName = (editingId === null) ? "Add Review Test Case" : "Edit Review Test Case";

    // Validation => Pass / Fail
    if(!product || !name || !rating || !text){
      showTestMessage("fail", testName, "All fields are required.");
      return;
    }
    const rVal = parseInt(rating,10);
    if(isNaN(rVal) || rVal < 1 || rVal > 5){
      showTestMessage("fail", testName, "Rating must be between 1 and 5.");
      return;
    }

    if(editingId === null){
      // Add review (PASS)
      reviews.push({
        id: Date.now(),
        product,
        name,
        rating,
        text
      });
      showTestMessage("pass", testName, "Review added successfully.");
    } else {
      // Edit review (PASS)
      reviews = reviews.map(rv =>
        rv.id === editingId ? {...rv, product, name, rating, text} : rv
      );
      showTestMessage("pass", testName, "Review updated successfully.");
    }

    renderReviews();
    // Reset form
    document.getElementById("productName").value = "";
    document.getElementById("reviewerName").value = "";
    document.getElementById("rating").value = "";
    document.getElementById("reviewText").value = "";
    editingId = null;
    submitBtn.textContent = "Add Review";
  };

  window.editReview = function(id){
    const review = reviews.find(r => r.id === id);
    if(!review){
      showTestMessage("fail","Edit Review Test Case","Review not found.");
      return;
    }
    document.getElementById("productName").value = review.product;
    document.getElementById("reviewerName").value = review.name;
    document.getElementById("rating").value = review.rating;
    document.getElementById("reviewText").value = review.text;
    editingId = id;
    submitBtn.textContent = "Update Review";
  };

  window.deleteReview = function(id){
    const review = reviews.find(r => r.id === id);
    if(!review){
      showTestMessage("fail","Delete Review Test Case","Review not found.");
      return;
    }
    if(!confirm("Are you sure you want to delete this review?")){
      showTestMessage("fail","Delete Review Test Case","User cancelled deletion.");
      return;
    }
    reviews = reviews.filter(r => r.id !== id);
    renderReviews();
    showTestMessage("pass","Delete Review Test Case","Review deleted successfully.");
  };

  // Initial review list
  renderReviews();
</script>

</body>
</html>
